// This script is a console-based tool for Discord to monitor messages from a specific user
// (with a username prefix) and detect when they send messages containing emojis.
// It extracts the emoji's "data-name" attribute and copies it to the clipboard.
// Use `startObserver()` to begin monitoring, `stopObserver()` to stop, and `changePrefix(newPrefix)` to update the target username prefix.

let usernamePrefix = "callmecatz";
let observer;const startObserver=()=>{observer=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{if(1===e.nodeType&&"LI"===e.tagName&&e.classList.contains("messageListItem__5126c")){const r=e.querySelector("div[class^='contents_']");if(r){const e=r.querySelector("span[class^='username_']");if(e){const o=e.innerText||"";if(o.toLowerCase().startsWith(usernamePrefix)){const e=r.querySelector("div[id^='message-content-']");if(e){const r=e.innerText||"",t=e.querySelectorAll("img.emoji"),s=[];t.forEach((e=>{const r=e.getAttribute("data-name");if(r){const e=r.trim().replace(/^:+|:+$/g,"").trim();s.push(e)}}));if(!(""===r.trim()&&t.length>0)&&s.length>0){console.log(`${o}:`,r);const e=s[0];navigator.clipboard.writeText(e).then((()=>{console.log(`Emoji: "${e}"`)})).catch((e=>{console.error("Failed:",e)}))}}}}}}}))}))}));const e=document.querySelector(".scrollerContent__36d07.content_d125d2");e?(observer.observe(e,{childList:!0,subtree:!0}),console.log(`Username: "${usernamePrefix}".`)):console.log("Not started.")},stopObserver=()=>{observer?(observer.disconnect(),console.log("Observer stopped.")):console.log("Not Running.")},changePrefix=e=>{"string"==typeof e&&e.length>0?(usernamePrefix=e.toLowerCase(),console.log(`New User: "${usernamePrefix}".`)):console.log("Invalid")};window.startObserver=startObserver,window.stopObserver=stopObserver,window.changePrefix=changePrefix,startObserver();const targetNode=document.querySelector(".scrollerContent__36d07.content_d125d2");targetNode&&observer.observe(targetNode,{childList:!0,subtree:!0});
